<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../images/favicon.ico">

    <title>CatchUp - Dashboard  Forms </title>
  
	<!-- Vendors Style-->
	<link rel="stylesheet" href="css/vendors_css.css">
	  
	<!-- Style-->  
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/skin_color.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	
</head>
<body class="hold-transition light-skin sidebar-mini theme-primary fixed">
	
<div class="wrapper">
	<div id="loader"></div>

 	
	<header class="main-header">
		<div class="d-flex align-items-center logo-box justify-content-start">
			<a href="#" class="waves-effect waves-light nav-link d-none d-md-inline-block mx-10 push-btn bg-transparent" data-toggle="push-menu" role="button">
				<i class="fas fa-bars"></i>
			</a>
				
			<!-- Logo -->
			<a href="teacher.html" class="logo">
			  <!-- logo-->
			  <div class="logo-lg">
				  <span class="light-logo"><img src="../images/logo-dark-text.png" alt="logo"></span>
				  <span class="dark-logo"><img src="../images/logo-light-text.png" alt="logo"></span>
			  </div>
			</a>	
		</div>  
		<!-- Header Navbar -->
		 
		<nav class="navbar navbar-static-top">
		  <!-- Sidebar toggle button-->
		  <div class="app-menu">
		
		  </div>
			
		  <div class="navbar-custom-menu r-side">
			<ul class="nav navbar-nav">    
			
				
			
				
			  
			  <!-- User Account-->
			  <li class="dropdown user user-menu">
				<a href="#" class="waves-effect waves-light dropdown-toggle" data-bs-toggle="dropdown" title="User">
					<i class="fas fa-user"></i>
				</a>
				<ul class="dropdown-menu animated flipInX">
					<li class="user-body">
						<!-- <a class="dropdown-item" href="#"><i class="fas fa-user text-muted me-2"></i> Profile</a>
						<a class="dropdown-item" href="#"><i class="fas fa-wallet text-muted me-2"></i> My Wallet</a>
						<a class="dropdown-item" href="#"><i class="fas fa-cog text-muted me-2"></i> Settings</a> -->
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" href="#" id="logoutBtn"><i class="fas fa-lock text-muted me-2"></i> Logout</a>

					</li>
				</ul>
			</li>    
			
			
			</ul>
		  </div>
		</nav>
	  </header>
	  
	  <aside class="main-sidebar">
		<!-- sidebar-->
		<section class="sidebar position-relative">    
			<div class="multinav">
				<div class="multinav-scroll" style="height: 100%;">    
					<!-- sidebar menu-->
					<ul class="sidebar-menu" data-widget="tree">    
						<li class="header">Dashboard & Apps</li>
						<li class="treeview">
							<a href="#">
								<i class="fas fa-th"></i>
								<span>Dashboard</span>
								<span class="pull-right-container">
									<i class="fa fa-angle-right pull-right"></i>
								</span>
							</a>
							<ul class="treeview-menu">
								<li><a href="teacher.html"><i class="fas fa-chart-line"></i> Dashboard</a></li>
							</ul>
						</li>
		
						<li class="treeview">
							<a href="#">
								<i class="fas fa-file-alt"></i>
								<span>Forms & Tables</span>
								<span class="pull-right-container">
									<i class="fa fa-angle-right pull-right"></i>
								</span>
							</a>                    
							<ul class="treeview-menu">                    
								<li class="treeview">
									<a href="#">
										<i class="fas fa-edit"></i> Create Live Class
										<span class="pull-right-container">
											<i class="fa fa-angle-right pull-right"></i>
										</span>
									</a>
									<ul class="treeview-menu">
										<li><a href="teacher.html"><i class="fas fa-code-branch"></i>Dashboard</a></li>	 	     
										<li><a href="bookingList.html"><i class="fas fa-users"></i> Bookings</a></li>
										<li><a href="community.html"><i class="fas fa-users"></i> Community</a></li>
										<li>
											<a href="liveclassForm.html">
											  <i class="fas fa-video"></i> Create Live Class
											</a>
										  </li>
									</ul>
								</li>         
						                
							</ul>
						</li>
						
					
		
				        
					</ul>
				</div>
			</div>
		</section>
		<div class="sidebar-footer">
			<a href="javascript:void(0)" class="link" data-bs-toggle="tooltip" title="Settings"><span class="icon-Settings-2"></span></a>
			<a href="mailbox.html" class="link" data-bs-toggle="tooltip" title="Email"><span class="icon-Mail"></span></a>
			<a href="javascript:void(0)" class="link" data-bs-toggle="tooltip" title="Logout"><span class="icon-Lock-overturning"><span class="path1"></span><span class="path2"></span></span></a>
		</div>
	  </aside>
  
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
	  <div class="container-full">
		<!-- Content Header (Page header) -->
		<div class="content-header">
			<div class="d-flex align-items-center">
				<div class="me-auto">
					<h3 class="page-title">Forms</h3>
					<div class="d-inline-block align-items-center">
						<nav>
							<ol class="breadcrumb">
								<li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
								<li class="breadcrumb-item" aria-current="page">Forms</li>
								<li class="breadcrumb-item active" aria-current="page">Forms</li>
							</ol>
						</nav>
					</div>
				</div>
				
			</div>
		</div>	  

		<!-- Main content -->
		<section class="content">

		

		  <!-- Validation wizard -->
		  <div class="box">
			<div class="box-header with-border">
			  <h4 class="box-title">Step wizard with validation</h4>
			  <h6 class="box-subtitle">You can us the validation like what we did</h6>
			</div>
			<!-- /.box-header -->
			<div class="box-body wizard-content">
				<form action="#" method="POST" class="validation-wizard wizard-circle">
					<!-- Course Info -->
					<h6>Course Information</h6>
					<section>
						<div class="row">
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="courseTitle" class="form-label"> Course Title : <span class="danger">*</span> </label>
							  <input type="text" class="form-control required" id="courseTitle" name="title" required>
							</div>
						  </div>
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="courseDate" class="form-label"> Date : <span class="danger">*</span> </label>
							  <input type="date" class="form-control required" id="courseDate" name="date" required>
							</div>
						  </div>
						</div>
						<div class="row">
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="lessonDetails" class="form-label"> Subject : <span class="danger">*</span> </label>
							  <input type="text" class="form-control required" id="lessonDetails" name="lessons" required>
							</div>
						  </div>
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="totalCost" class="form-label"> Total Cost : <span class="danger">*</span> </label>
							  <input type="text" class="form-control required" id="totalCost" name="totalCost" required>
							</div>
						  </div>
						</div>
						<div class="row">
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="studentsCount" class="form-label"> Students Count : <span class="danger">*</span> </label>
							  <input type="number" class="form-control required" id="studentsCount" name="studentsCount" required>
							</div>
						  </div>
						</div>
						<div class="row">
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="courseTime" class="form-label"> Time : <span class="danger">*</span> </label>
							  <input type="time" class="form-control required" id="courseTime" name="time" required>
							</div>
						  </div>
						</div>
						<div class="row">
						  <div class="col-md-6">
							<div class="form-group">
							  <label for="googleMeetLink" class="form-label"> Google Meet Link: </label>
							  <input type="url" class="form-control" id="googleMeetLink" name="googleMeetLink" placeholder="Enter Google Meet link">
							</div>
						  </div>
						</div>
					  </section>
					  
				  
					<!-- Submit Button -->
					<div class="row">
					  <div class="col-md-12">
						<button type="submit" class="btn btn-primary">Submit</button>
					  </div>
					</div>
				  </form>
				  
				  
			</div>
			<!-- /.box-body -->
		  </div>
		  <!-- /.box -->

		</section>
		<!-- /.content -->
	  </div>
  </div>
  <!-- /.content-wrapper -->
  
   <footer class="main-footer">
   
	  &copy; 2025 All Rights Reserved Catchup.
  </footer>

  
  <!-- Add the sidebar's background. This div must be placed immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->
<script>
	const adminToken = localStorage.getItem("adminToken");
	const adminId = localStorage.getItem("adminId");
  
	if (!adminToken || !adminId) {
	  window.location.href = "auth_login.html";
	}
  </script>
  
	
<script>
	// Add event listener to the logout button
document.getElementById('logoutBtn').addEventListener('click', function() {
    // Remove teacherId and token from localStorage
    localStorage.removeItem('teacherId');
    localStorage.removeItem('token');
    
    // Optionally, redirect the user to the login page or home page after logout
    window.location.href = '../../../sign-in.html'; // Change '/login' to your desired redirect URL
});

</script>
	
	
	
	<!-- Page Content overlay -->
<script>
	document.querySelector('form').addEventListener('submit', async function (event) {
  event.preventDefault();

  // Get the teacherId from localStorage
  const teacherId = localStorage.getItem("teacherId");

  if (!teacherId) {
    alert("Teacher ID not found. Please log in first.");
    return;
  }
  
  // Get values from the form
  const studentsCount = document.getElementById('studentsCount').value;
  
  // Ensure studentsCount is a number (default to 0 if empty or invalid)
  const studentCountValue = studentsCount ? Number(studentsCount) : 0;

  const data = {
    title: document.getElementById('courseTitle').value,
    date: document.getElementById('courseDate').value,
    lessons: document.getElementById('lessonDetails').value,
    totalCost: document.getElementById('totalCost').value,
    time: document.getElementById('courseTime').value,
    lessonCount: 0, // Set lessonCount to 0 by default
    studentsCount: studentCountValue, // Ensure it's a number
    teacherId: teacherId, // Use teacherId from localStorage
    googleMeetLink: document.getElementById('googleMeetLink').value, // Capture Google Meet link
  };

  try {
    const response = await fetch('https://catchup-project.onrender.com/api/livecourses/create', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data), // Send as a single course object
    });

    const result = await response.json();
    if(result){
      alert(result.message || "Course created successfully");
    }
    else{
      alert('Error creating course');
    }
  } catch (error) {
    console.error('Error creating course:', error);
    alert('Error creating course');
  }
});

</script>
	  
	  
      
	
	<!-- Vendor JS -->
	<script src="js/vendors.min.js"></script>
	<script src="js/pages/chat-popup.js"></script>
    <script src="../assets/icons/feather-icons/feather.min.js"></script>	<script src="../assets/vendor_components/jquery-steps-master/build/jquery.steps.js"></script>
    <script src="../assets/vendor_components/jquery-validation-1.17.0/dist/jquery.validate.min.js"></script>
    <script src="../assets/vendor_components/sweetalert/sweetalert.min.js"></script>
	
	<!-- CatchUp App -->
	<script src="js/template.js"></script>
	
    <script src="js/pages/steps.js"></script>
	
    
	
</body>
</html>
