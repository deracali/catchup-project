<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../images/favicon.ico">

    <title>EduAdmin - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	
	<!-- Vendors Style-->
	<link rel="stylesheet" href="css/vendors_css.css">
	  
	<!-- Style-->  
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/skin_color.css">
	<link rel="stylesheet" href="css/custom.css">
     
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <style>
	  .chart-container {
		  width: 80%;
		  margin: auto;
	  }
  </style>
<body class="hold-transition light-skin sidebar-mini theme-primary fixed">
	
<div class="wrapper">
  <div id="loader"></div>
	
  <header class="main-header">
	<div class="d-flex align-items-center logo-box justify-content-start">
		<a href="#" class="waves-effect waves-light nav-link d-none d-md-inline-block mx-10 push-btn bg-transparent" data-toggle="push-menu" role="button">
			<i class="fas fa-align-left"></i>

		</a>	
		<!-- Logo -->
		<a href="index.html" class="logo">
		  <!-- logo-->
		  <div class="logo-lg">
			  <span class="light-logo"><img src="../images/logo-dark-text.png" alt="logo"></span>
			  <span class="dark-logo"><img src="../images/logo-light-text.png" alt="logo"></span>
		  </div>
		</a>	
	</div>  
    <!-- Header Navbar -->
	<nav class="navbar navbar-static-top">
		<!-- Sidebar toggle button-->
		<div class="app-menu">
			<ul class="header-megamenu nav">
				<li class="btn-group nav-item d-md-none">
					<a href="#" class="waves-effect waves-light nav-link push-btn" data-toggle="push-menu" role="button">
						<i class="fas fa-align-left"></i>
					</a>
				</li>
			</ul>
		</div>
	
		<div class="navbar-custom-menu r-side">
			<ul class="nav navbar-nav">
				<!-- User Account-->
				<li class="dropdown user user-menu">
					<a href="#" class="waves-effect waves-light dropdown-toggle" data-bs-toggle="dropdown" title="User">
						<i class="fas fa-user"></i>
					</a>
					<ul class="dropdown-menu animated flipInX">
						<li class="user-body">
							<a class="dropdown-item" href="#"><i class="fas fa-user text-muted me-2"></i> Profile</a>
							<a class="dropdown-item" href="#"><i class="fas fa-wallet text-muted me-2"></i> My Wallet</a>
							<a class="dropdown-item" href="#"><i class="fas fa-cog text-muted me-2"></i> Settings</a>
							<div class="dropdown-divider"></div>
							<a class="dropdown-item" href="#"><i class="fas fa-lock text-muted me-2"></i> Logout</a>
						</li>
					</ul>
				</li>
	
				<!-- Control Sidebar Toggle Button -->
				<li>
					<a href="#" data-toggle="control-sidebar" title="Setting" class="waves-effect waves-light">
						<i class="fas fa-cogs"></i>
					</a>
				</li>
			</ul>
		</div>
	</nav>
	
  </header>
  
  <aside class="main-sidebar">
    <!-- sidebar-->
    <section class="sidebar position-relative">	
	  	<div class="multinav">
		  <div class="multinav-scroll" style="height: 100%;">	
			  <!-- sidebar menu-->
			  <ul class="sidebar-menu" data-widget="tree">	
				<li class="header">Dashboard & Apps</li>
				<li class="treeview">
				
				<li>
					<a href="index8.html">
						<i class="fas fa-code-branch"></i> <!-- Replacing icon-Commit -->
						Dashboard 8
					</a>
				</li>
			</li>
			
			<li>
				<a href="liveclassForm.html">
					<i class="fas fa-pen"></i> <!-- Replacing icon-Commit -->
					Create Live Course
				</a>
			</li>
			  </ul>
		  </div>
		</div>
    </section>
	<div class="sidebar-footer">
		<a href="javascript:void(0)" class="link" data-bs-toggle="tooltip" title="Settings"><span class="icon-Settings-2"></span></a>
		<a href="mailbox.html" class="link" data-bs-toggle="tooltip" title="Email"><span class="icon-Mail"></span></a>
		<a href="javascript:void(0)" class="link" data-bs-toggle="tooltip" title="Logout"><span class="icon-Lock-overturning"><span class="path1"></span><span class="path2"></span></span></a>
	</div>
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
	  <div class="container-full">
		<!-- Main content -->
		<section class="content bg-white">
			<div class="row">
				<div class="col-xl-4 col-lg-12 col-12 left-side-section">
					<div class="mb-30">
						<h1><strong>Hello,</strong> Arka <span style='font-size:40px;'>&#128075;</span></h1>
						<p class="mb-0 fs-16 text-fade mt-25">Nice to have you back, what an exciting day!</p>
						<p class="fs-16 text-fade">Get ready and continue  your lesson today.</p>
					</div>
					<div>
						<h3 class="box-title mb-20 fw-500">Today's Courses</h3>
						<div id="courses-container"></div> <!-- Courses will be inserted here dynamically -->
					</div>
					
					
					<div class="mt-25 design-tab">
						<h3 class="box-title mb-0 fw-500">Your class</h3>
						<div class="box-body px-0">
							<!-- Nav tabs -->
							<ul class="nav mb-20 list-inline d-block ">
								<li class="nav-item p-0">
									<a href="#navpills-1" class="nav-link p-5 px-sm-10 active" data-bs-toggle="tab" aria-expanded="false">All</a>
								</li>
								<li class="nav-item p-0">
									<a href="#navpills-2" class="nav-link p-5 px-sm-10" data-bs-toggle="tab" aria-expanded="false">Live Science Courses</a>
								</li>
								<li class="nav-item p-0">
									<a href="#navpills-3" class="nav-link p-5 px-sm-10" data-bs-toggle="tab" aria-expanded="true">Appointments</a>
								</li>
								<li class="nav-item p-0">
									<a href="#navpills-4" class="nav-link p-5 px-sm-10" data-bs-toggle="tab" aria-expanded="true">Upcoming Courses</a>
								</li>
								<ul class="box-controls pull-right d-md-flex">
								  <li>
								  	<i class="fa fa-sliders text-primary btn btn-light btn-sm" data-bs-toggle="tooltip" title data-bs-original-title="More info"></i>
									
								  </li>
								  <li class="mx-10">
									<i class="fa fa-filter text-primary btn btn-light btn-sm" data-bs-toggle="tooltip" title data-bs-original-title="More info" aria-hidden="true"></i>
								  </li>
								</ul>
							</ul>

							<!-- Tab panes -->
							<div class="tab-content">
								<!-- All Courses -->
								<div id="navpills-1" class="tab-pane active">
									<div id="all-courses"></div>
								</div>
								
								<!-- Live Science Courses -->
								<div id="navpills-2" class="tab-pane">
									<div id="live-science-courses"></div>
								</div>
								
								<!-- Appointments -->
								<div id="navpills-3" class="tab-pane">
									<div id="appointments"></div>
								</div>
							
								<!-- Upcoming Courses -->
								<div id="navpills-4" class="tab-pane">
									<div id="upcoming-courses"></div>
								</div>
							</div>
							
						</div>
					</div>
				</div>

				<div class="col-xl-8 col-lg-12 col-12 ">
					<div class="bg-primary-light rounded20  big-side-section">
						<div class="row">
							<div class="col-xxl-5 col-xl-5 col-lg-12">
								<div class="box">		
									<div class="text-white box-body bg-img text-center m-20 py-65" style="background-image: url(../images/gallery/creative/img-12.jpg);">
									</div>
									<div class="box-body up-mar100 pb-0">	
										<div class=" justify-content-center">
											<div>
												<div class="bg-white px-10 text-center pt-15 w-120 ms-20 mb-0 rounded20 mb-20">
													<a href="#" class="w-80">
													  <img class="avatar avatar-xxl rounded20 bg-light img-fluid" src="../images/avatar/avatar-16.png" alt="">
													</a>	
												</div>
												<div class="ms-30 mb-15">
													<h5 class="my-10 mb-0 fw-500 fs-18"><a class="text-dark" href="#">Arka Khalif</a></h5>
													<span class="text-fade mt-5"><i class="fa fa-map-marker" aria-hidden="true"></i> Surakarta, INA</span>
												</div>
											</div>
											<div class="row mt-20 side-block">
												<div class="col-6 ">
													<div class="bg-primary-light side-block-left rounded20 pull-up">
														<i class="fas fa-book-open bg-white p-10 rounded10"></i> 
														<h3 class="mb-0">24</h3>
														<p class="m-0 text-fade">Course</p>
													</div>
												</div>
												<div class="col-6 ">
													<div class="bg-primary-light side-block-right rounded20 pull-up">
														<i class="fas fa-crown bg-white p-10 rounded10"></i>
														<h3 class="mb-0">28</h3>
														<p class="m-0 text-fade">Certification</p>
													</div>
												</div>
											</div>
										</div>
									</div>					
								</div>
							</div>
							<div class="col-xxl-7 col-xl-7 col-lg-12 ps-xxl-30">
								<div class="box box-body mb-20 pull-up">
									<div class="d-flex  align-items-center">
										<div class="me-10 me-sm-20 ">
											<div class="w-p100  l-h-90 rounded15 b-1 bg-light  text-center">
												<img src="../images/front-end-img/courses/cor-logo-9.png" alt="" class="align-self-end w-150">
											</div>
										</div>
										<div class="d-flex flex-column fw-500 w-75 xp-container">
											<h2 class="text-primary hover-primary mb-5">Loading XP...</h2>
											<h5 class="fw-300">Points</h5>
										</div>
										
									</div>
								</div>
								<div class="row mt-xl-35">
									<div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 px-xxl-12 pt-xxl-10 pe-xxl-20">
										<div class="box pull-up">
											<div class="box-body bg-warning " style="height: 16rem;">
												<div class="d-flex flex-row justify-content-between">
													<div class="">
														<img src="../images/avatar/avatar-2.png" alt="user" class="rounded10 bg-white-30 " width="50">
													</div>
													<div class="ps-20">
													<i class="fas fa-arrow-up-right px-5 py-1 bg-white text-warning rounded10"></i>

													</div>
												</div>
												<div class="mt-20">
													<div class="col b-r">
														<h4 class="font-light fw-500">Guidance</h4>
														<p>Receive expert advice and structured learning plans from teachers</p>
													</div> 
												</div>
											</div>
										</div>
									</div>
									<div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 px-xxl-12 pt-xxl-10 ps-xxl-20">
										<div class="box pull-up">
											<div class="box-body bg-pink " style="height: 16rem;">
												<div class="d-flex flex-row justify-content-between">
													<div class="">
														<img src="../images/avatar/avatar-2.png" alt="user" class="rounded10 bg-white-30 " width="50">
													</div>
													<div class="ps-20">
													<i class="fas fa-arrow-up-right px-5 py-1 bg-white text-warning rounded10"></i>

													</div>
												</div>
												<div class="mt40">
													<div class="col b-r">
														<h4 class="font-light fw-500">Progress Tracking</h4>
														<p>Monitor student progress, and provide personalized feedback</p>
													</div>  
													
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-xxl-12 mt-xxl-20">
								<div class="box box-body mb-0">
									<div class="row">
										<div class="col-xl-4 col-lg-12">
											<h3 class="fw-500 text-dark mt-0">Bookings Overview</h3>
										</div>
										<div class="col-xl-8 chart-container">
											<canvas id="bookingsChart"></canvas>
										</div>
									</div>
									<div >
										<div id="area-chart3" class="min-h-300"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
		</section>
		<!-- /.content -->
	  </div>
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
   
	  &copy; 2025 All Rights Reserved Catchup.
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar">
	  
	<div class="rpanel-title"><span class="pull-right btn btn-circle btn-danger"><i class="ion ion-close text-white" data-toggle="control-sidebar"></i></span> </div>  <!-- Create the tabs -->
    <ul class="nav nav-tabs control-sidebar-tabs">
      <li class="nav-item"><a href="#control-sidebar-home-tab" data-bs-toggle="tab" class="active"><i class="mdi mdi-message-text"></i></a></li>
      <li class="nav-item"><a href="#control-sidebar-settings-tab" data-bs-toggle="tab"><i class="mdi mdi-playlist-check"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <!-- Home tab content -->
      <div class="tab-pane active" id="control-sidebar-home-tab">
          <div class="flexbox">
			<a href="javascript:void(0)" class="text-grey">
				<i class="ti-more"></i>
			</a>	
			<p>Users</p>
			<a href="javascript:void(0)" class="text-end text-grey"><i class="ti-plus"></i></a>
		  </div>
		  <div class="lookup lookup-sm lookup-right d-none d-lg-block">
			<input type="text" name="s" placeholder="Search" class="w-p100">
		  </div>
          <div class="media-list media-list-hover mt-20">
			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-success" href="#">
				<img src="../images/avatar/1.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Tyler</strong></a>
				</p>
				<p>Praesent tristique diam...</p>
				  <span>Just now</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-danger" href="#">
				<img src="../images/avatar/2.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Luke</strong></a>
				</p>
				<p>Cras tempor diam ...</p>
				  <span>33 min ago</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-warning" href="#">
				<img src="../images/avatar/3.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Evan</strong></a>
				</p>
				<p>In posuere tortor vel...</p>
				  <span>42 min ago</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-primary" href="#">
				<img src="../images/avatar/4.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Evan</strong></a>
				</p>
				<p>In posuere tortor vel...</p>
				  <span>42 min ago</span>
			  </div>
			</div>			
			
			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-success" href="#">
				<img src="../images/avatar/1.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Tyler</strong></a>
				</p>
				<p>Praesent tristique diam...</p>
				  <span>Just now</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-danger" href="#">
				<img src="../images/avatar/2.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Luke</strong></a>
				</p>
				<p>Cras tempor diam ...</p>
				  <span>33 min ago</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-warning" href="#">
				<img src="../images/avatar/3.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Evan</strong></a>
				</p>
				<p>In posuere tortor vel...</p>
				  <span>42 min ago</span>
			  </div>
			</div>

			<div class="media py-10 px-0">
			  <a class="avatar avatar-lg status-primary" href="#">
				<img src="../images/avatar/4.jpg" alt="...">
			  </a>
			  <div class="media-body">
				<p class="fs-16">
				  <a class="hover-primary" href="#"><strong>Evan</strong></a>
				</p>
				<p>In posuere tortor vel...</p>
				  <span>42 min ago</span>
			  </div>
			</div>
			  
		  </div>

      </div>
      <!-- /.tab-pane -->
      <!-- Settings tab content -->
      <div class="tab-pane" id="control-sidebar-settings-tab">
          <div class="flexbox">
			<a href="javascript:void(0)" class="text-grey">
				<i class="ti-more"></i>
			</a>	
			<p>Todo List</p>
			<a href="javascript:void(0)" class="text-end text-grey"><i class="ti-plus"></i></a>
		  </div>
        <ul class="todo-list mt-20">
			<li class="py-15 px-5 by-1">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_1" class="filled-in">
			  <label for="basic_checkbox_1" class="mb-0 h-15"></label>
			  <!-- todo text -->
			  <span class="text-line">Nulla vitae purus</span>
			  <!-- Emphasis label -->
			  <small class="badge bg-danger"><i class="fa fa-clock-o"></i> 2 mins</small>
			  <!-- General tools such as edit or delete-->
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_2" class="filled-in">
			  <label for="basic_checkbox_2" class="mb-0 h-15"></label>
			  <span class="text-line">Phasellus interdum</span>
			  <small class="badge bg-info"><i class="fa fa-clock-o"></i> 4 hours</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5 by-1">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_3" class="filled-in">
			  <label for="basic_checkbox_3" class="mb-0 h-15"></label>
			  <span class="text-line">Quisque sodales</span>
			  <small class="badge bg-warning"><i class="fa fa-clock-o"></i> 1 day</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_4" class="filled-in">
			  <label for="basic_checkbox_4" class="mb-0 h-15"></label>
			  <span class="text-line">Proin nec mi porta</span>
			  <small class="badge bg-success"><i class="fa fa-clock-o"></i> 3 days</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5 by-1">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_5" class="filled-in">
			  <label for="basic_checkbox_5" class="mb-0 h-15"></label>
			  <span class="text-line">Maecenas scelerisque</span>
			  <small class="badge bg-primary"><i class="fa fa-clock-o"></i> 1 week</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_6" class="filled-in">
			  <label for="basic_checkbox_6" class="mb-0 h-15"></label>
			  <span class="text-line">Vivamus nec orci</span>
			  <small class="badge bg-info"><i class="fa fa-clock-o"></i> 1 month</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5 by-1">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_7" class="filled-in">
			  <label for="basic_checkbox_7" class="mb-0 h-15"></label>
			  <!-- todo text -->
			  <span class="text-line">Nulla vitae purus</span>
			  <!-- Emphasis label -->
			  <small class="badge bg-danger"><i class="fa fa-clock-o"></i> 2 mins</small>
			  <!-- General tools such as edit or delete-->
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_8" class="filled-in">
			  <label for="basic_checkbox_8" class="mb-0 h-15"></label>
			  <span class="text-line">Phasellus interdum</span>
			  <small class="badge bg-info"><i class="fa fa-clock-o"></i> 4 hours</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5 by-1">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_9" class="filled-in">
			  <label for="basic_checkbox_9" class="mb-0 h-15"></label>
			  <span class="text-line">Quisque sodales</span>
			  <small class="badge bg-warning"><i class="fa fa-clock-o"></i> 1 day</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
			<li class="py-15 px-5">
			  <!-- checkbox -->
			  <input type="checkbox" id="basic_checkbox_10" class="filled-in">
			  <label for="basic_checkbox_10" class="mb-0 h-15"></label>
			  <span class="text-line">Proin nec mi porta</span>
			  <small class="badge bg-success"><i class="fa fa-clock-o"></i> 3 days</small>
			  <div class="tools">
				<i class="fa fa-edit"></i>
				<i class="fa fa-trash-o"></i>
			  </div>
			</li>
		  </ul>
      </div>
      <!-- /.tab-pane -->
    </div>
  </aside>
  <!-- /.control-sidebar -->
  
  <!-- Add the sidebar's background. This div must be placed immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
  
</div>
<!-- ./wrapper -->
	
	
		
	
	<!-- Page Content overlay -->
	
	
	<!-- Vendor JS -->
	<script src="js/vendors.min.js"></script>
	<script src="js/pages/chat-popup.js"></script>
    <script src="../assets/icons/feather-icons/feather.min.js"></script>	
	
	<script src="../assets/vendor_components/apexcharts-bundle/dist/apexcharts.js"></script>
		<script src="../assets/vendor_components/apexcharts-bundle/dist/apexcharts.js"></script>
	<script src="../assets/vendor_components/jquery.peity/jquery.peity.js"></script>
	<script src="../assets/vendor_components/easypiechart/dist/jquery.easypiechart.js"></script>
	<script src="../assets/vendor_components/chart.js-master/Chart.min.js"></script>
	<script src="../assets/vendor_components/d3/d3.min.js"></script>
	<script src="../assets/vendor_components/d3/d3_tooltip.js"></script>

	<script src="../assets/vendor_components/raphael/raphael.min.js"></script>
	<script src="../assets/vendor_components/morris.js/morris.min.js"></script>
	
	<!-- EduAdmin App -->
	<script src="js/template.js"></script>
	<script src="js/pages/dashboard8.js"></script>



<script>
	document.addEventListener("DOMContentLoaded", async () => {
		try {
			const response = await fetch("http://localhost:3000/api/livecourse/get");
			const courses = await response.json();
	
			if (courses.length === 0) return;
	
			// Get today's date in YYYY-MM-DD format
			const today = new Date().toISOString().split("T")[0];
	
			// Filter courses that were created today
			const todayCourses = courses.filter(course => course.date === today);
	
			// Ensure at least 3 courses are displayed
			const displayedCourses = todayCourses.slice(0, 3);
	
			const container = document.getElementById("courses-container");
			container.innerHTML = ""; // Clear any existing content
	
			displayedCourses.forEach((course, index) => {
				const courseHTML = `
					<div class="box-body bg-primary-light mb-30 px-xl-5 px-xxl-20 pull-up">
						<div class="d-flex align-items-center ps-xl-20">
							<div class="me-20">
								<svg class="circle-chart" viewBox="0 0 33.83098862 33.83098862" width="80" height="80">
									<defs>
										<pattern id="course-img-${index}" patternUnits="userSpaceOnUse" height="80" width="80">
											<image x="5" y="5" height="70%" width="70%" xlink:href="${course.image || '../images/default.png'}"></image>
										</pattern>
									</defs>
									<circle class="circle-chart__background" stroke="#efefef" stroke-width="2" cx="16.91549431" cy="16.91549431" r="15.91549431" fill="url(#course-img-${index})"></circle>
									<circle class="circle-chart__circle" stroke="#68CA77" stroke-width="2" stroke-dasharray="79" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431"></circle>
								</svg>
							</div>
							<div class="d-flex flex-column w-75">
								<a href="#" class="text-dark hover-primary mb-5 fw-600 fs-18">${course.title}</a>
								<div class="row">
									<div class="col-xxl-6 col-xl-12 col-lg-6 col-md-6 text-fade">
										<p class="my-10"><i class="si-book-open si"></i> ${course.lessonCount} lessons</p>
										<p><i class="si-note si"></i> ${course.totalCost} assignments</p>
									</div>
									<div class="col-xxl-6 col-xl-12 col-lg-6 col-md-6 text-fade">
										<p class="my-10"><i class="si-clock si"></i> ${course.time} min</p>
										<p><i class="si-people si"></i> ${course.studentsCount} students</p>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex justify-content-between mx-lg-10 mt-10">
							<h2 class="my-5 c-green">79%</h2>
							<div class="text-center">
								<button type="button" class="waves-effect waves-light btn bg-green mb-5 px-25 py-8">Join</button>
							</div>
						</div>
					</div>
				`;
	
				container.innerHTML += courseHTML;
			});
	
		} catch (error) {
			console.error("Error fetching courses:", error);
		}
	});
	
	</script>







<script>
    async function fetchData() {
        try {
            // Fetch live courses
            const coursesRes = await fetch('http://localhost:3000/api/livecourse/get');
            const courses = await coursesRes.json();

            // Fetch appointments
            const bookingsRes = await fetch('http://localhost:3000/api/bookings');
            const appointments = await bookingsRes.json();

            const today = new Date().toISOString().split('T')[0];

            // Separate courses
            const scienceCourses = courses.filter(course => course.title.includes("Science"));
            const upcomingCourses = courses.filter(course => course.date > today);

            // Render courses and appointments
            document.getElementById('all-courses').innerHTML = generateCourseHTML(courses);
            document.getElementById('live-science-courses').innerHTML = generateCourseHTML(scienceCourses);
            document.getElementById('appointments').innerHTML = generateAppointmentHTML(appointments);
            document.getElementById('upcoming-courses').innerHTML = generateCourseHTML(upcomingCourses);

        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    function generateCourseHTML(courses) {
        return courses.map(course => `
            <div class="box-body bg-warning-light mb-20 px-xl-5 px-xxl-20 pull-up">
                <div class="d-flex align-items-center ps-xl-20">
                    <div class="me-20">
                        <div class="w-90 h-90 l-h-90 rounded b-1 bg-white text-center">
                            <img src="../images/front-end-img/courses/cor-logo-7.png" alt="" class="align-self-end h-70 w-70">
                        </div>
                    </div>
                    <div class="d-flex flex-column fw-500 w-75">
                        <a href="#" class="text-dark hover-primary mb-5 fs-18">${course.title}</a>
                        <div class="row">
                            <div class="col-md-6 text-fade">
                                <p class="my-10"><i class="si-book-open si"></i> ${course.lessonCount} lessons</p>
                                <p><i class="si-clock si"></i> ${course.time} minutes</p>
                            </div>
                            <div class="col-md-6 text-fade">
                                <p class="my-10"><i class="si-people si"></i> ${course.studentsCount} students</p>
                                <p><i class="si-note si"></i> ${course.totalCost}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    function generateAppointmentHTML(appointments) {
        return appointments.map(appointment => `
            <div class="box-body bg-light mb-20 px-xl-5 px-xxl-20 pull-up">
                <div class="d-flex align-items-center ps-xl-20">
                    <div class="me-20">
                        <div class="w-90 h-90 l-h-90 rounded b-1 bg-white text-center">
                            <img src="../images/front-end-img/courses/cor-logo-8.png" alt="" class="align-self-end h-70 w-70">
                        </div>
                    </div>
                    <div class="d-flex flex-column fw-500 w-75">
                        <a href="#" class="text-dark hover-primary mb-5 fs-18">Appointment with ${appointment.teacherName}</a>
                        <div class="row">
                            <div class="col-md-6 text-fade">
                                <p class="my-10"><i class="si-calendar si"></i> ${appointment.date}</p>
                                <p><i class="si-clock si"></i> ${appointment.time}</p>
                            </div>
                            <div class="col-md-6 text-fade">
                                <p class="my-10"><i class="si-info si"></i> ${appointment.description}</p>
                                <p><i class="si-check si"></i> Status: ${appointment.status}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    fetchData();
</script>









<script>
	document.addEventListener("DOMContentLoaded", async function () {
		const teacherId = localStorage.getItem("teacherId"); // Get teacherId from localStorage

		if (!teacherId) {
			console.error("No teacherId found in localStorage.");
			return;
		}

		async function fetchAppointments() {
			try {
				const response = await fetch(`http://localhost:3000/api/bookings`);
				const allBookings = await response.json();

				// Filter bookings for this teacher
				const teacherBookings = allBookings.filter(booking => booking.teacherId === teacherId);

				// Calculate XP (100 XP per appointment)
				const xp = teacherBookings.length * 100;

				displayXP(xp);
			} catch (error) {
				console.error("Error fetching bookings:", error);
			}
		}

		function displayXP(xp) {
			const xpContainer = document.querySelector(".xp-container");
			xpContainer.innerHTML = `
				<h2 class="text-primary hover-primary mb-5">${xp} XP</h2>
				<h5 class="fw-300">Points</h5>
			`;
		}

		fetchAppointments();
	});
</script>






<script>
	document.addEventListener("DOMContentLoaded", function () {
		fetch("http://localhost:3000/api/bookings")
			.then(response => response.json())
			.then(data => {
				// Process data: Count bookings per day
				const counts = {};
				data.forEach(booking => {
					const date = new Date(booking.createdAt).toLocaleDateString();
					counts[date] = (counts[date] || 0) + 1;
				});

				// Prepare chart data
				const chartData = {
					labels: Object.keys(counts),
					datasets: [{
						label: "Bookings per Day",
						data: Object.values(counts),
						backgroundColor: "#5840ba",
						borderColor: "#fb84e2",
						borderWidth: 1
					}]
				};

				// Render chart
				const ctx = document.getElementById("bookingsChart").getContext("2d");
				new Chart(ctx, {
					type: "bar",
					data: chartData,
					options: {
						responsive: true,
						scales: {
							y: { beginAtZero: true }
						}
					}
				});
			})
			.catch(error => console.error("Error fetching bookings:", error));
	});
</script>




</body>
</html>
