<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Catchup | Teacher Form">
    <meta name="author" content="webwonder">
    <title>Catchup | Teacher Form</title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="../assets/img/logo.png" type="image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="img/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="img/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="img/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="img/apple-touch-icon-144x144-precomposed.png">

    <!-- GOOGLE WEB FONT -->
    <link href="../css?family=Work+Sans:400,500,600" rel="stylesheet">

    <!-- BASE CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/menu.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
	<link href="css/vendors.css" rel="stylesheet">

    <!-- YOUR CUSTOM CSS -->
    <link href="css/custom.css" rel="stylesheet">
	
	<!-- MODERNIZR MENU -->
	<script src="js/modernizr.js"></script>

</head>

<body>
	
	<div id="preloader">
		<div data-loader="circle-side"></div>
	</div><!-- /Preload -->
	
	<div id="loader_form">
		<div data-loader="circle-side-2"></div>
	</div><!-- /loader_form -->
	
	<nav>
		<ul class="cd-primary-nav">
			<li><a href="../index.html" class="animated_link">Home</a></li>
			<li><a href="../contact.html" class="animated_link">Contact</a></li>
			
		</ul>
	</nav>
	<!-- /menu -->
	
	<div class="container-fluid">
	    <div class="row row-height">
	        <div class="col-xl-4 col-lg-4 content-left">
	            <div class="content-left-wrapper">
	                <a href="index.html" id="logo"><img src="../assets/img/logo.png" alt="" width="45" height="45"></a>
	                <div id="social">
	                    <ul>
                            <li><a href="#0"><i class="bi bi-facebook"></i></a></li>
							<li><a href="#0"><i class="bi bi-twitter-x"></i></a></li>
							<li><a href="#0"><i class="bi bi-instagram"></i></a></li>
							<li><a href="#0"><i class="bi bi-tiktok"></i></a></li>
                        </ul>
	                </div>
	                <!-- /social -->
	                <div>
	                    <figure><img src="img/info_graphic_1.svg" alt="" class="img-fluid" width="270" height="270"></figure>
	                    <h2>Teacher Registration</h2>
<p>Join our community of dedicated educators! Register now to share your knowledge, inspire students, and make a difference in education.</p>

	                   
	                </div>
	                <div class="copy">© 2025 Catchup</div>
	            </div>
	            <!-- /content-left-wrapper -->
	        </div>
	        <!-- /content-left -->
	        <div style="height: auto;" class="col-xl-8 col-lg-8 content-right" id="start">
	            <div id="wizard_container">
	                <div id="top-wizard">
	                    <span id="location"></span>
	                    <div id="progressbar"></div>
	                </div>
	                <!-- /top-wizard -->
					<form id="wrapped" method="post" enctype="multipart/form-data">

						<!-- Leave for security protection, read docs for details -->
						<div id="middle-wizard">
							<div class="step">
								<h2 class="section_title">Teacher Application</h2>
								<h3 class="main_question">Personal Information</h3>
								<div class="form-group add_top_30">
									<label for="name">Full Name</label>
									<input type="text" name="name" id="name" class="form-control required" placeholder="Enter your full name" onchange="getVals(this, 'name_field');">
								</div>
								<div class="form-group">
									<label for="email">Email Address</label>
									<input type="email" name="email" id="email" class="form-control required" placeholder="Enter your email" onchange="getVals(this, 'email_field');">
								</div>
								<div class="form-group">
									<label for="phone">Phone Number</label>
									<input type="text" name="phone" id="phone" class="form-control required" placeholder="Enter your phone number">
								</div>
								<label>Gender</label>
								<div class="form-group radio_input">
									<label class="container_radio me-3">Male
										<input type="radio" name="gender" value="Male" class="required">
										<span class="checkmark"></span>
									</label>
									<label class="container_radio">Female
										<input type="radio" name="gender" value="Female" class="required">
										<span class="checkmark"></span>
									</label>
								</div>
								<label>Password</label>
								<input type="password" name="password" class="form-control required" placeholder="Enter password">
								<label>Designation</label>
								<input type="text" name="designation" class="form-control required" placeholder="Enter your designation">
								<label>Profile Image</label>
								<input type="file" name="profileImage" accept="image/*" class="required">
								<label>About</label>
								<textarea name="about" class="form-control required" placeholder="Write about yourself"></textarea>
								<label>Address</label>
								<input type="text" name="address" class="form-control required" placeholder="Enter your address">

								<div class="form-group add_bottom_30 add_top_20">
									<label>Upload Resume<br><small>(Accepted formats: .pdf, .doc/docx - Max: 150KB)</small></label>
									<div class="fileupload">
										<input type="file" name="cv" accept=".pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" class="required">
									</div>
								</div>
							</div>
							<!-- /step-->
					
							<div class="step">
								<h2 class="section_title">Courses You Can Teach</h2>
								<h3 class="main_question">Select the courses you are qualified to teach</h3>
								<div class="form-group">
									<label class="container_check">Mathematics
										<input type="checkbox" name="courses[]" value="Mathematics">
										<span class="checkmark"></span>
									</label>
									<label class="container_check">Physics
										<input type="checkbox" name="courses[]" value="Physics">
										<span class="checkmark"></span>
									</label>
									<label class="container_check">Biology
										<input type="checkbox" name="courses[]" value="Biology">
										<span class="checkmark"></span>
									</label>
									<label class="container_check">Chemistry
										<input type="checkbox" name="courses[]" value="Chemistry">
										<span class="checkmark"></span>
									</label>
									<label class="container_check">English
										<input type="checkbox" name="courses[]" value="English">
										<span class="checkmark"></span>
									</label>
									<label class="container_check">Computer Science
										<input type="checkbox" name="courses[]" value="Computer Science">
										<span class="checkmark"></span>
									</label>
								</div>
							</div>
							<!-- /step -->
					
							<div class="submit step" id="end">
								<div class="summary">
									<div class="wrapper">
										<h3>Thank you for applying, <span id="name_field"></span>!</h3>
										<p>We will contact you shortly at <strong id="email_field"></strong>.</p>
									</div>
									<div class="text-center">
										<div class="form-group terms">
											<label class="container_check">Please accept our <a href="#" data-bs-toggle="modal" data-bs-target="#terms-txt">Terms and Conditions</a> before submitting.
												<input type="checkbox" name="terms" value="Yes" class="required">
												<span class="checkmark"></span>
											</label>
										</div>
									</div>
								</div>
							</div>
							<!-- /step last-->
						</div>
						<!-- /middle-wizard -->
						<div id="bottom-wizard">
							<button type="button" name="backward" class="backward">Prev</button>
							<button type="button" name="forward" class="forward">Next</button>
							<button type="submit" name="process" class="submit">Submit</button>
						</div>
						<!-- /bottom-wizard -->
					</form>
					
					
	            </div>
	            <!-- /Wizard container -->
	        </div>
	        <!-- /content-right-->
	    </div>
	    <!-- /row-->
	</div>
	<!-- /container-fluid -->

	<div class="cd-overlay-nav">
		<span></span>
	</div>
	<!-- /cd-overlay-nav -->

	<div class="cd-overlay-content">
		<span></span>
	</div>
	<!-- /cd-overlay-content -->

	<a href="#0" class="cd-nav-trigger">Menu<span class="cd-icon"></span></a>
	<!-- /menu button -->
	
	<!-- Terms and Conditions Modal -->
<div class="modal fade" id="terms-txt" tabindex="-1" role="dialog" aria-labelledby="termsLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="termsLabel">Terms and Conditions</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>By submitting this application, you agree to the following terms and conditions:</p>
                <ul>
                    <li>You certify that all the information provided is accurate and truthful.</li>
                    <li>You acknowledge that your application does not guarantee employment.</li>
                    <li>You consent to a background check and verification of your credentials.</li>
                    <li>You agree to comply with all policies and procedures of the institution.</li>
                </ul>
                <p>Failure to comply with these terms may result in disqualification from consideration.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn_1" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

	<!-- /.modal -->
	
	<!-- COMMON SCRIPTS -->
	<script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/common_scripts.min.js"></script>
	<script src="js/velocity.min.js"></script>
	<script src="js/common_functions.js"></script>
	<script src="js/file-validator.js"></script>

	<!-- Wizard script-->
	<script src="js/func_1.js"></script>
	<script>
		$(document).ready(function() {
			// Initialize wizard only after DOM is ready
			$("#wizard_container").wizard({
				stepsWrapper: "#wrapped",
				submit: ".submit",
				unidirectional: false,
				beforeSelect: function(event, state) {
					// Ensure validation for fields in the current step
					var inputs = $(this).wizard('state').step.find(':input');
					return !inputs.length || inputs.valid();
				}
			}).validate();
	
			// Form submission handler
			document.getElementById("wrapped").addEventListener("submit", async function (e) {
				e.preventDefault(); // Prevent default form submission
	
				let formData = new FormData(this);
				let selectedCourses = [];
	
				document.querySelectorAll("input[name='courses[]']:checked").forEach(course => {
					selectedCourses.push(course.value);
				});
	
				if (selectedCourses.length === 0) {
					alert("Please select at least one course.");
					return;
				}
	
				formData.append("courses", selectedCourses); // Append courses as an array
	
				try {
					// Ensure the fetch request is made to the correct endpoint
					let response = await fetch("https://catchup-project.onrender.com/api/teacher-reviews/create", {
						method: "POST",
						body: formData
					});
	
					let result = await response.json();
					console.log("Server Response:", result);
	
					// Check if the response was successful
					if (response.ok) { // If status code is 2xx
						if (result && result.message) {
							// Show modal on success
							alert("Submitted")
							new bootstrap.Modal(document.getElementById('terms-txt')).show(); // Trigger modal popup
						}
					} else {
						 if (result.errors) {
							// Handle database validation errors (assuming your server sends errors)
							let errorMessages = result.errors.map(error => error.message).join("\n");
							alert("Database Errors: \n" + errorMessages);
						} else {
							// Generic error message if no message or errors are returned from the server
							alert(result.errors);
						}
					}
				} catch (error) {
					// Handle unexpected errors
					console.log(error);
					alert(error);
				}
			});
		});
	</script>
	
	

</body>
</html>